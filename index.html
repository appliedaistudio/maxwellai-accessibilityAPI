<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Function Call Example</title>
    <script src="./js/accessibility.js" defer></script>
</head>
<body>
    <h1>JavaScript Function Call Example</h1>
    <button id="getAccessibilityInfo">Get Accessibility Information</button>
    <div id="accessibilityInfo"></div>

    <script>
        document.getElementById("getAccessibilityInfo").addEventListener("click", async function() {
            try {
                // JSON data to pass to the function
                var inputData = {
                    "products": [
                        {
                            "name": "Lenovo ThinkPad X1 Carbon",
                            "accessibility_assessment": {
                                "questions": [
                                    {
                                        "question": "Is the keyboard tactile feedback sufficient?",
                                        "answer": 4,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Are the screen brightness and contrast adjustable?",
                                        "answer": 3,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Are tactile markers available for navigation?",
                                        "answer": 5,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Is the product lightweight and portable?",
                                        "answer": 4,
                                        "scale": [1, 5]
                                    }
                                ],
                                "final_score": 4.0,
                                "final_score_scale": [1, 5]
                            }
                        },
                        {
                            "name": "Lenovo ThinkCentre M720q Tiny Desktop",
                            "accessibility_assessment": {
                                "questions": [
                                    {
                                        "question": "Is the device's casing easy to open for maintenance?",
                                        "answer": 4,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Are ports and connectors well-labeled?",
                                        "answer": 5,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Is the device easy to mount in various orientations?",
                                        "answer": 3,
                                        "scale": [1, 5]
                                    },
                                    {
                                        "question": "Is the user manual provided in accessible formats?",
                                        "answer": 4,
                                        "scale": [1, 5]
                                    }
                                ],
                                "final_score": 4.0,
                                "final_score_scale": [1, 5]
                            }
                        }
                    ]
                };

                // Call the function and pass JSON data as argument
                var accessibilityInfo = await getAccessibilityAnalysis(inputData);
                document.getElementById("accessibilityInfo").innerText = accessibilityInfo;
            } catch (error) {
                console.error('Error occurred:', error);
            }
        });
    </script>
</body>
</html>
